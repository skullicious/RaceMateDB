@model IEnumerable<ResultModel>

@{
    ViewBag.Title = "results";

}

@*<h2>Cannot get this to behave propertly*@

@{if (Model.FirstOrDefault() != null)

    {
        <h2> Results for @Model.First().Event.Name </h2>




        <table class="table">
            <tr>

                <th>
                    Rider
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Position)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>

                    <td>
                        @Html.DisplayFor(modelItem => item.Rider.Name)

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Position)
                    </td>
                    <td>
                      | @Html.ActionLink("Details", "Details", new { id = item.Id }) |                     
                       @if (@User.IsInRole("Admin"))
                       {
                        @Html.ActionLink("Edit", "Edit", new { id = item.Id }) <text>|</text>
                        @Html.ActionLink("Delete", "Delete", new { id = item.Id }) <text>|</text>
                       }
                    </td>
                </tr>
            }

        </table>













  }


    else

    {
        <h2> Sorry, there are no results for this event... Please check back later... </h2>
    }
}






